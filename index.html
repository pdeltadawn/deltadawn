<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Living Archive of Textiles + Fiber</title>
    
    <!-- Model Viewer - Google's free 3D viewer component -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #f8f6f3;
            --text: #2a2a2a;
            --accent: #c45c3e;
            --muted: #7a7a7a;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: linear-gradient(to bottom, var(--bg) 60%, transparent);
        }

        .logo {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
            font-style: italic;
            color: var(--accent);
            letter-spacing: 0.02em;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--muted);
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 3rem;
            max-width: 900px;
        }

        .hero h1 {
            font-family: 'Crimson Text', serif;
            font-size: clamp(3rem, 8vw, 5.5rem);
            font-weight: 400;
            line-height: 1.1;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .hero h1 span {
            color: var(--accent);
        }

        .hero-intro {
            font-size: 1.1rem;
            color: var(--muted);
            max-width: 500px;
            margin-bottom: 3rem;
        }

        .scroll-hint {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: var(--muted);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .scroll-hint::before {
            content: '';
            width: 40px;
            height: 1px;
            background: var(--muted);
        }

        /* Collection Grid */
        .collection {
            padding: 6rem 3rem;
        }

        .section-header {
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-family: 'Crimson Text', serif;
            font-size: 2.5rem;
            font-weight: 400;
            font-style: italic;
            margin-bottom: 1rem;
        }

        .section-header p {
            color: var(--muted);
            max-width: 500px;
        }

        .object-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .object-card {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }

        .object-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
        }

        /* Model Viewer Container */
        .model-container {
            position: relative;
            width: 100%;
            height: 400px;
            background: linear-gradient(145deg, #f5f3f0, #e8e6e3);
            overflow: hidden;
        }

        /* Style the model-viewer element */
        model-viewer {
            width: 100%;
            height: 100%;
            --poster-color: transparent;
        }

        /* Custom loading indicator */
        model-viewer::part(default-progress-bar) {
            background-color: var(--accent);
            height: 3px;
        }

        .object-info {
            padding: 1.5rem;
        }

        .object-title {
            font-family: 'Crimson Text', serif;
            font-size: 1.25rem;
            font-weight: 400;
            margin-bottom: 0.5rem;
        }

        .object-meta {
            font-size: 0.85rem;
            color: var(--muted);
        }

        .object-tags {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .tag {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            padding: 0.3rem 0.6rem;
            background: var(--bg);
            border-radius: 3px;
            color: var(--muted);
        }

        /* Detail View */
        .detail-section {
            padding: 8rem 3rem 6rem;
            display: none;
        }

        .detail-section.active {
            display: block;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 3rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .detail-model {
            position: relative;
        }

        .detail-model-container {
            position: relative;
            width: 100%;
            height: 70vh;
            min-height: 500px;
            max-height: 800px;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.06);
        }

        .detail-model-container model-viewer {
            width: 100%;
            height: 100%;
        }

        /* Interaction hint */
        .interaction-hint {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--muted);
            background: rgba(255,255,255,0.9);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            pointer-events: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .detail-model-container:hover .interaction-hint {
            opacity: 0;
        }

        .detail-info h1 {
            font-family: 'Crimson Text', serif;
            font-size: 2.5rem;
            font-weight: 400;
            font-style: italic;
            margin-bottom: 0.5rem;
        }

        .detail-meta {
            font-size: 1rem;
            color: var(--muted);
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e5e5e5;
        }

        .detail-description {
            font-size: 1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .detail-specs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .spec-item {
            padding: 1rem 0;
            border-top: 1px solid #e5e5e5;
        }

        .spec-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--muted);
            margin-bottom: 0.3rem;
        }

        .spec-value {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--muted);
            text-decoration: none;
            font-size: 0.85rem;
            margin-bottom: 2rem;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: var(--text);
        }

        /* Footer */
        footer {
            padding: 4rem 3rem;
            border-top: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        footer p {
            font-size: 0.85rem;
            color: var(--muted);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .detail-grid {
                grid-template-columns: 1fr;
            }

            .detail-model {
                position: relative;
                top: 0;
            }
        }

        @media (max-width: 600px) {
            nav {
                padding: 1rem 1.5rem;
            }

            .hero, .collection {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }

            .object-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Demo placeholder styling */
        .placeholder-model {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Crimson Text', serif;
            font-style: italic;
            color: var(--muted);
            font-size: 1rem;
            flex-direction: column;
            gap: 0.5rem;
        }

        .placeholder-model small {
            font-family: 'DM Sans', sans-serif;
            font-style: normal;
            font-size: 0.7rem;
            opacity: 0.6;
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo">Living Archive of Textiles + Fiber</div>
        <ul class="nav-links">
            <li><a href="#collection">Collection</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#methodology">Process</a></li>
        </ul>
    </nav>

    <!-- Hero -->
    <section class="hero" id="home">
        <h1>Material <span>Histories,</span><br>Woven Worlds</h1>
        <p class="hero-intro">Rotate, zoom, and examine structures that hands once made and time has carried forward. A virtual exhibition of 3D-scanned textiles from the KU collection.</p>
        <div class="scroll-hint">Scroll to explore</div>
    </section>

    <!-- Collection Grid -->
    <section class="collection" id="collection">
        <div class="section-header">
            <h2>The Collection</h2>
            <p>Each object links to others through material, technique, and origin—a web of making that crosses centuries and continents.</p>
        </div>

        <div class="object-grid">
            
            <!-- Card 1: Damask - with model-viewer -->
            <article class="object-card" onclick="showDetail('damask')">
                <div class="model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/damask2.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="15deg"
                        shadow-intensity="0.5"
                        exposure="1.0"
                        alt="Figural damask fragment with bar scene">
                    </model-viewer>
                </div>
                <div class="object-info">
                    <h3 class="object-title">Figural Damask Fragment</h3>
                    <p class="object-meta">American · Mid-20th century</p>
                    <div class="object-tags">
                        <span class="tag">damask</span>
                        <span class="tag">rayon</span>
                    </div>
                </div>
            </article>

            <!-- Card 2: Basket -->
            <article class="object-card" onclick="showDetail('basket')">
                <div class="model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/basket.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="15deg"
                        shadow-intensity="0.5"
                        exposure="1.0"
                        alt="Sweetgrass basket with lid">
                    </model-viewer>
                </div>
                <div class="object-info">
                    <h3 class="object-title">Sweetgrass Basket with Lid</h3>
                    <p class="object-meta">Unknown maker · Found object</p>
                    <div class="object-tags">
                        <span class="tag">coiled</span>
                        <span class="tag">grass</span>
                    </div>
                </div>
            </article>

            <!-- Card 3: Mola -->
            <article class="object-card" onclick="showDetail('mola')">
                <div class="model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/mola1.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="15deg"
                        shadow-intensity="0.5"
                        exposure="1.0"
                        alt="Mola panel with fishing scene">
                    </model-viewer>
                </div>
                <div class="object-info">
                    <h3 class="object-title">Mola Panel, Fishing Scene</h3>
                    <p class="object-meta">Guna (Kuna) · Panama · 1969</p>
                    <div class="object-tags">
                        <span class="tag">reverse appliqué</span>
                        <span class="tag">cotton</span>
                    </div>
                </div>
            </article>

            <!-- Card 4: Palm Basket -->
            <article class="object-card">
                <div class="model-container">
                    <div class="placeholder-model">
                        3D Model
                        <small>palm-basket.glb</small>
                    </div>
                </div>
                <div class="object-info">
                    <h3 class="object-title">Palm Basket</h3>
                    <p class="object-meta">Oaxaca · Mexico</p>
                    <div class="object-tags">
                        <span class="tag">plaited</span>
                        <span class="tag">palm</span>
                    </div>
                </div>
            </article>
        </div>
    </section>

    <!-- Detail View: Damask -->
    <section class="detail-section" id="detail-damask">
        <a href="#" class="back-link" onclick="hideDetail(); return false;">← Back to collection</a>
        
        <div class="detail-grid">
            <div class="detail-model">
                <div class="detail-model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/damask2.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="10deg"
                        shadow-intensity="0.8"
                        exposure="1.1"
                        environment-image="neutral"
                        alt="Figural damask fragment with bar and billiard scene">
                    </model-viewer>
                    <div class="interaction-hint">drag to rotate · scroll to zoom</div>
                </div>
            </div>

            <div class="detail-info">
                <h1>Figural Damask Fragment</h1>
                <p class="detail-meta">American · Mid-20th century (likely 1940s–1950s)</p>

                <p class="detail-description">
                    A small fragment of figural damask depicting a lively bar and billiard hall scene. Figures gather around pool tables, hold drinks, and socialize—a snapshot of mid-century American leisure culture woven into cloth.
                </p>
                <p class="detail-description">
                    This type of "conversational" or novelty damask was likely produced for upholstery in home recreation rooms, basement bars, or commercial lounges during the postwar era. The monochromatic palette emphasizes the tonal interplay between matte and sheen surfaces characteristic of damask weaving.
                </p>

                <div class="detail-specs">
                    <div class="spec-item">
                        <div class="spec-label">Dimensions</div>
                        <div class="spec-value">Fragment</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Technique</div>
                        <div class="spec-value">Jacquard damask</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Materials</div>
                        <div class="spec-value">Rayon</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Provenance</div>
                        <div class="spec-value">Unknown</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detail View: Mola -->
    <section class="detail-section" id="detail-mola">
        <a href="#" class="back-link" onclick="hideDetail(); return false;">← Back to collection</a>
        
        <div class="detail-grid">
            <div class="detail-model">
                <div class="detail-model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/mola.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="10deg"
                        shadow-intensity="0.8"
                        exposure="1.1"
                        environment-image="neutral"
                        alt="Mola panel with fishing scene, reverse appliqué textile from Panama">
                    </model-viewer>
                    <div class="interaction-hint">drag to rotate · scroll to zoom</div>
                </div>
            </div>

            <div class="detail-info">
                <h1>Mola Panel, Fishing Scene</h1>
                <p class="detail-meta">Guna (Kuna) · San Blas Islands, Panama · 1969</p>

                <p class="detail-description">
                    This mola panel depicts a traditional fishing scene with a sailing boat, fishing lines extending to fish below, a turtle, and what appears to be an iguana in the upper left. The imagery reflects daily life and the importance of fishing to Guna island communities.
                </p>
                <p class="detail-description">
                    Molas are created through reverse appliqué—multiple layers of fabric are stacked and cut away to reveal colors beneath, all secured with tiny, nearly invisible stitches. The technical work here is particularly fine, with tight stitching and balanced color composition on a traditional red base.
                </p>

                <div class="detail-specs">
                    <div class="spec-item">
                        <div class="spec-label">Dimensions</div>
                        <div class="spec-value">12 × 18 inches</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Technique</div>
                        <div class="spec-value">Reverse appliqué</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Materials</div>
                        <div class="spec-value">Cotton, thread</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Origin</div>
                        <div class="spec-value">San Blas Islands</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detail View: Basket -->
    <section class="detail-section" id="detail-basket">
        <a href="#" class="back-link" onclick="hideDetail(); return false;">← Back to collection</a>
        
        <div class="detail-grid">
            <div class="detail-model">
                <div class="detail-model-container">
                    <model-viewer 
                        src="https://pub-1ef2450353b94218932713fa5d552751.r2.dev/basket.glb"
                        camera-controls
                        auto-rotate
                        rotation-per-second="10deg"
                        shadow-intensity="0.8"
                        exposure="1.1"
                        environment-image="neutral"
                        alt="Sweetgrass basket with lid, coiled construction">
                    </model-viewer>
                    <div class="interaction-hint">drag to rotate · scroll to zoom</div>
                </div>
            </div>

            <div class="detail-info">
                <h1>Sweetgrass Basket with Lid</h1>
                <p class="detail-meta">Unknown maker · Found object</p>

                <p class="detail-description">
                    A coiled sweetgrass basket with fitted lid, discovered at a thrift store. The coiling technique creates concentric rings visible on the lid and body, with subtle color variation in the natural grass material. The form suggests it was made for storage or as a decorative object.
                </p>
                <p class="detail-description">
                    Sweetgrass basketry has deep roots in African American craft traditions, particularly in the Lowcountry region of South Carolina. Without provenance, we cannot attribute this basket to a specific tradition, but its construction demonstrates skilled handwork.
                </p>

                <div class="detail-specs">
                    <div class="spec-item">
                        <div class="spec-label">Dimensions</div>
                        <div class="spec-value">~6 × 8 inches</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Technique</div>
                        <div class="spec-value">Coiled</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Materials</div>
                        <div class="spec-value">Sweetgrass</div>
                    </div>
                    <div class="spec-item">
                        <div class="spec-label">Provenance</div>
                        <div class="spec-value">Unknown</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="footer">
        <p>Living Archive of Textiles + Fiber · University of Kansas</p>
        <p>3D scanning via photogrammetry</p>
    </footer>

    <script>
        function showDetail(id) {
            // Hide all sections
            document.getElementById('home').style.display = 'none';
            document.getElementById('collection').style.display = 'none';
            document.getElementById('footer').style.display = 'none';
            
            // Hide all detail sections
            document.querySelectorAll('.detail-section').forEach(el => {
                el.classList.remove('active');
            });
            
            // Show the requested detail
            document.getElementById('detail-' + id).classList.add('active');
            window.scrollTo(0, 0);
        }

        function hideDetail() {
            // Hide all detail sections
            document.querySelectorAll('.detail-section').forEach(el => {
                el.classList.remove('active');
            });
            
            // Show main sections
            document.getElementById('home').style.display = 'flex';
            document.getElementById('collection').style.display = 'block';
            document.getElementById('footer').style.display = 'flex';
        }
    </script>

</body>
</html>
